(()=>{"use strict";var e,t={766:()=>{const e=window.wp.blocks,t=window.wp.components,o=window.wp.element,r=window.wp.blockEditor,s=window.wp.data,n=window.ReactJSXRuntime;(0,e.registerBlockType)("graphql-grid/latest-posts-grid",{edit:function({attributes:e,setAttributes:l}){const i=(0,r.useBlockProps)(),[a,d]=(0,o.useState)([]),c=e.postsToShow||4,u=(0,s.useSelect)(e=>e("core/editor").getCurrentPostId());return(0,o.useEffect)(()=>{u&&e.currentPostId!==u&&l({currentPostId:u}),async function(){try{const e="\nquery GetLatestPosts($count: Int!, $excludeIds: [ID!]!) {\n  posts(first: $count, where: { notIn: $excludeIds }) {\n    nodes {\n      id\n      title\n      link\n      featuredImage {\n        node { sourceUrl(size: THUMBNAIL) }\n      }\n    }\n  }\n}\n",t={count:c,excludeIds:u?[u]:[]},o=await fetch(`${lpgSettings.graphqlEndpoint}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})}),r=await o.json();d(r.data?.posts?.nodes||[])}catch(e){console.error(e),d([])}}()},[c,u]),(0,n.jsxs)("div",{...i,children:[(0,n.jsx)(r.InspectorControls,{children:(0,n.jsx)(t.PanelBody,{title:"Latest Posts Grid Settings",children:(0,n.jsx)(t.RangeControl,{label:"Number of posts to show",value:c,onChange:e=>l({postsToShow:e}),min:1,max:12})})}),(0,n.jsx)("div",{className:"lpg-wrapper-editor grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:0===a.length?(0,n.jsx)("p",{children:"No posts to display"}):a.map(e=>(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition duration-300 p-4 flex flex-col",children:[e.featuredImage?.node?.sourceUrl&&(0,n.jsx)("img",{src:e.featuredImage.node.sourceUrl,alt:e.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(0,n.jsx)("a",{href:e.link,className:"hover:text-blue-600",dangerouslySetInnerHTML:{__html:e.title}})})]},e.id))})]})},save:()=>null})}},o={};function r(e){var s=o[e];if(void 0!==s)return s.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,o,s,n)=>{if(!o){var l=1/0;for(c=0;c<e.length;c++){for(var[o,s,n]=e[c],i=!0,a=0;a<o.length;a++)(!1&n||l>=n)&&Object.keys(r.O).every(e=>r.O[e](o[a]))?o.splice(a--,1):(i=!1,n<l&&(l=n));if(i){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,s,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var s,n,[l,i,a]=o,d=0;if(l.some(t=>0!==e[t])){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(a)var c=a(r)}for(t&&t(o);d<l.length;d++)n=l[d],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(c)},o=globalThis.webpackChunkgraphql_grid=globalThis.webpackChunkgraphql_grid||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=r.O(void 0,[350],()=>r(766));s=r.O(s)})();